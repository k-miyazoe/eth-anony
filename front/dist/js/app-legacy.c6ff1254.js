(function(){"use strict";var e={6378:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var s=n(144),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("router-view")],1)},r=[],i={name:"App"},a=i,c=n(3736),u=n(3453),l=n.n(u),d=n(998),h=(0,c.Z)(a,o,r,!1,null,null,null),f=h.exports;l()(h,{VApp:d.Z});var v=n(8345),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("Header"),n("v-main",[n("v-row",{staticClass:"justify-center"},[n("v-btn",{on:{click:e.routerPushCreateQuestion}},[e._v("質問する")])],1),n("v-container",{attrs:{fluid:""}},e._l(e.unresolved_question,(function(t){return n("v-card",{key:t.id,staticClass:"pa-md-4 mx-lg-auto",attrs:{width:"750px"}},[n("v-card-text",[n("router-link",{attrs:{to:{name:"question-detail",params:{id:t.id}}}},[e._v(" "+e._s(t.question_title)+" ")])],1),n("v-card-text",[e._v(" 回答数:"+e._s(t.question_number_of_responses)+" 閲覧数:"+e._s(t.question_views)+" ")])],1)})),1)],1)],1)},_=[],w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#00B0FF",dense:"",dark:"",elevation:"10"}},[n("v-toolbar-title",[e._v(" 質問掲示板 - プログラミング概論 ")]),n("v-spacer"),e.login_status?n("div",[n("v-btn",[n("router-link",{attrs:{to:"/mypage"}},[e._v(" マイページ ")])],1)],1):n("div",[n("v-btn",[n("router-link",{attrs:{to:"/signin"}},[e._v(" サインイン ")])],1),n("v-btn",[n("router-link",{attrs:{to:"/signup"}},[e._v(" サインアップ ")])],1)],1)],1),n("div",{staticStyle:{padding:"15px"}})],1)},g=[],m={components:{},data:function(){return{uid:0,login_status:!1}},mounted:function(){this.setURLParameter()},methods:{setURLParameter:function(){this.$session.has("token")&&(this.uid=this.$session.get("user_id"),this.login_status=!0)}}},x=m,k=n(5716),b=n(5146),Z=n(3687),y=n(7953),C=(0,c.Z)(x,w,g,!1,null,null,null),q=C.exports;l()(C,{VAppBar:k.Z,VBtn:b.Z,VSpacer:Z.Z,VToolbarTitle:y.qW});var B=n(9669),A=n.n(B),V="http://localhost:9990",E={components:{Header:q},data:function(){return{tab:null,unresolved_question:{},resolved_question:{},my_question:{},items:[]}},mounted:function(){this.getUnresolvedQuestion()},methods:{getUnresolvedQuestion:function(){var e=this;A().get(V+"/api/get-question/unresolved/").then((function(t){e.unresolved_question=t.data})).catch((function(e){console.log(e)}))},getResolvedQuestion:function(){var e=this;A().get(V+"/api/get-question/resolved/").then((function(t){console.log(t.data),e.resolved_question=t.data})).catch((function(e){console.log(e)}))},getMyQuestion:function(){A().get(V+"/api/get-question/").then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},routerPushCreateQuestion:function(){this.$router.push("/create-question")}}},$=E,T=n(9582),j=n(4886),H=n(9256),Q=n(3059),D=n(1713),S=(0,c.Z)($,p,_,!1,null,null,null),P=S.exports;l()(S,{VApp:d.Z,VBtn:b.Z,VCard:T.Z,VCardText:j.ZB,VContainer:H.Z,VMain:Q.Z,VRow:D.Z});var O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("Header"),n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":"","fill-height":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",lg4:"",md5:""}},[n("v-card",{staticClass:"mt-12"},[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("実名アカウント")])]),n("v-spacer"),n("v-card-text",[e.loading?n("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-container",[n("v-text-field",{attrs:{label:"ユーザーID*(半角英数)",rules:e.rules.user_key,required:""},model:{value:e.main_account.user_key,callback:function(t){e.$set(e.main_account,"user_key",t)},expression:"main_account.user_key"}}),n("v-text-field",{attrs:{type:"password",counter:10,label:"パスワード*(半角英数)",rules:e.rules.password,maxlength:"10",required:""},model:{value:e.main_account.password,callback:function(t){e.$set(e.main_account,"password",t)},expression:"main_account.password"}}),n("v-text-field",{attrs:{type:"password",counter:10,label:"パスワード(確認用)*",rules:e.rules.password,maxlength:"10",required:""},model:{value:e.check_password_main,callback:function(t){e.check_password_main=t},expression:"check_password_main"}}),n("v-text-field",{attrs:{label:"学籍番号メールアドレス*",rules:e.rules.email,required:""},model:{value:e.main_account.user_email,callback:function(t){e.$set(e.main_account,"user_email",t)},expression:"main_account.user_email"}}),n("v-text-field",{attrs:{label:"氏名*",rules:e.rules.user_name,required:""},model:{value:e.main_account.user_name,callback:function(t){e.$set(e.main_account,"user_name",t)},expression:"main_account.user_name"}})],1)],1)],1)],1),n("v-card",{staticClass:"mt-12"},[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("匿名アカウント")])]),n("v-card-subtitle",[e._v("*実名アカウントとは違うユーザーID,パスワードを登録してください")]),n("v-spacer"),n("v-card-text",[e.loading?n("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-container",[n("v-text-field",{attrs:{label:"ユーザーID*(半角英数)",rules:e.rules.user_key,required:""},model:{value:e.sub_account.user_key,callback:function(t){e.$set(e.sub_account,"user_key",t)},expression:"sub_account.user_key"}}),n("v-text-field",{attrs:{type:"password",counter:10,label:"パスワード*(半角英数)",rules:e.rules.password,maxlength:"10",required:""},model:{value:e.sub_account.password,callback:function(t){e.$set(e.sub_account,"password",t)},expression:"sub_account.password"}}),n("v-text-field",{attrs:{type:"password",counter:10,label:"パスワード(確認用)*",rules:e.rules.password,maxlength:"10",required:""},model:{value:e.check_password_sub,callback:function(t){e.check_password_sub=t},expression:"check_password_sub"}}),n("v-text-field",{attrs:{label:"学籍番号メールアドレス(任意)"},model:{value:e.sub_account.email,callback:function(t){e.$set(e.sub_account,"email",t)},expression:"sub_account.email"}})],1)],1)],1)],1),n("router-link",{attrs:{to:"/signin"}},[e._v(" アカウントがある方はこちらから ")]),n("v-btn",{staticClass:"pink white--text",attrs:{disabled:!e.valid},on:{click:e.signUp}},[e._v(" サインアップ ")])],1)],1)],1)],1)},F=[],I=n(3336),R=n(124),U=n(8534),M=(n(4916),n(5306),n(6455)),N=n.n(M),z=n(1955);function G(){var e=z.Z.get("csrftoken"),t=A().create({baseURL:"http://localhost:9990",timeout:2500,headers:{"Content-Type":"application/json","X-CSRFToken":e}});return t}var L={setHeader:G},W=L.setHeader(),X=n(7918),J=new X("https://eagle4.fu.is.saga-u.ac.jp/geth-docker/"),K="0x7A5601125AC4CC81647E61c0347Ef58E2Cf8cf02",Y="admin",ee="",te="",ne={components:{Header:q},data:function(){return{main_account:{},sub_account:{},valid:!0,loading:!1,check_password_main:"",check_password_sub:"",rules:{user_key:[function(e){return!!e||"ユーザーidは必須です"}],email:[function(e){return!!e||"メールアドレスは必須です"}],password:[function(e){return!!e||"パスワードは必須です"},function(e){return e&&e.length>5||"パスワードは6文字以上でなければなりません"}],user_name:[function(e){return!!e||"名前は必須です"}]}}},mounted:function(){this.checkToken(),this.checkGeth()},methods:{checkToken:function(){this.$session.start(),this.$session.has("token")&&jt.push("/")},checkGeth:function(){var e=this;J.eth.personal.getAccounts().then((function(e){console.log("geth 起動中")}),(function(t){console.log("geth 停止中",t),e.valid=!1}))},signUp:function(){var e=this;return(0,U.Z)((0,R.Z)().mark((function t(){var n;return(0,R.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,n=!0,n=e.checkForm(),n=e.checkUserId(n),n=e.checkPassword(e.main_account.password,e.check_password_main,n),n=e.checkPassword(e.sub_account.password,e.check_password_sub,n),n=e.checkMainSubPassword(e.main_account.password,e.sub_account.password),t.next=9,e.createEthAccount(e.main_account.password,n,"main");case 9:return t.next=11,e.createEthAccount(e.sub_account.password,n,"sub");case 11:return n=e.checkEthAddressType(ee,te),console.log("check eth address typeのflag確認",n),t.next=15,e.createAccount(e.main_account,100,n,ee);case 15:return console.log("5 createAccount main",n),t.next=18,e.createAccount(e.sub_account,0,n,te);case 18:return console.log("6 createAccount sub",n),t.next=21,e.initialEth(ee,100,n);case 21:console.log("7 initialEth",n),e.loading=!1,e.signUpResult(n);case 24:case"end":return t.stop()}}),t)})))()},checkForm:function(){return this.$refs.form.validate()},checkUserId:function(e){return e?this.main_account.user_key!=this.sub_account.user_key||(N().fire({icon:"warning",title:"Error",text:"ユーザーidが一致しています.どちらか変更してください",showConfirmButton:!1,showCloseButton:!1,timer:1e3}),!1):(console.log("userkey checkなし"),!1)},checkPassword:function(e,t,n){return n?e==t||(N().fire({icon:"warning",title:"Error",text:"パスワードが一致しません.もう一度入力してください",showConfirmButton:!1,showCloseButton:!1,timer:1e3}),this.loading=!1,this.main_account.password="",this.sub_account.password="",this.check_password="",!1):(console.log("パスワードチェックなし"),!1)},checkMainSubPassword:function(e,t){return e==t?(N().fire({icon:"warning",title:"Error",text:"実名アカウントもしくは匿名アカウントどちらかのパスワードを変更してください",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),!1):(console.log("mainとsubパスワード重複なし"),!0)},createEthAccount:function(e,t,n){return(0,U.Z)((0,R.Z)().mark((function s(){return(0,R.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(t){s.next=3;break}return console.log("ethアカウント生成しない"),s.abrupt("return",!1);case 3:return s.next=5,J.eth.personal.newAccount(e).then((function(e){return"main"==n?(console.log("ethアカウント作成ok[main]",e,"ethアドレスの型",(0,I.Z)(e)),ee=e):(console.log("ethアカウント作成ok[sub]",e,"ethアドレスの型",(0,I.Z)(e)),te=e),!0}),(function(e){return console.log("error",e),!1}));case 5:case"end":return s.stop()}}),s)})))()},checkEthAddressType:function(e,t){return"string"==typeof e&&"string"==typeof t},getStudentNumber:function(e){var t=e.replace(/[^0-9]/g,"");return console.log("学籍番号抽出確認",t),t},groupingAccount:function(e){return e%2==0},createAccount:function(e,t,n,s){var o=this;return(0,U.Z)((0,R.Z)().mark((function r(){var i;return(0,R.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n){r.next=4;break}return console.log("アカウント生成しない"),N().fire({icon:"warning",title:"Error",text:"アカウントが作成できませんでした",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),r.abrupt("return",!1);case 4:return i=o.getStudentNumber(o.main_account.user_email),e.user_group=o.groupingAccount(i),e.user_eth_password=e.password,e.user_point=t,e.user_eth_address=s,console.log("createAccount:",e),r.next=12,W.post("/api/create-user/",e).then((function(){return console.log("アカウント作成"),!0})).catch((function(){return N().fire({icon:"warning",title:"Error",text:"入力が正しくありません",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),!1}));case 12:case"end":return r.stop()}}),r)})))()},initialEth:function(e,t,n){return(0,U.Z)((0,R.Z)().mark((function s(){var o,r,i;return(0,R.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(n){s.next=3;break}return console.log("初期eth与えない"),s.abrupt("return",!1);case 3:return s.next=5,J.utils.toChecksumAddress(K);case 5:return o=s.sent,s.next=8,J.utils.toChecksumAddress(e);case 8:return r=s.sent,i={from:o,to:r,value:t},s.next=12,J.eth.personal.unlockAccount(o,Y,15e3).then((function(){J.eth.sendTransaction(i),console.log("受け取り完了")}));case 12:case"end":return s.stop()}}),s)})))()},signUpResult:function(e){e?(N().fire("アカウントを作成しました!","success"),jt.push("/signin")):(N().fire({icon:"warning",title:"Error",text:"アカウントの作成ができませんでした!ページを閉じて再度やり直してください",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),this.loading=!1)},log:function(){return(0,U.Z)((0,R.Z)().mark((function e(){return(0,R.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}},se=ne,oe=n(1267),re=n(5125),ie=n(3201),ae=n(3305),ce=n(2033),ue=(0,c.Z)(se,O,F,!1,null,null,null),le=ue.exports;l()(ue,{VApp:d.Z,VBtn:b.Z,VCard:T.Z,VCardSubtitle:j.Qq,VCardText:j.ZB,VCardTitle:j.EB,VContainer:H.Z,VFlex:oe.Z,VForm:re.Z,VLayout:ie.Z,VProgressCircular:ae.Z,VSpacer:Z.Z,VTextField:ce.Z});var de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("Header"),n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":"","fill-height":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",lg4:"",md5:""}},[n("v-card",{staticClass:"mt-12"},[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("サインイン")])]),n("v-card-text",[e.loading?n("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-container",[n("v-text-field",{attrs:{label:"ユーザーID",rules:e.rules.user_key,required:""},model:{value:e.credentials.user_key,callback:function(t){e.$set(e.credentials,"user_key",t)},expression:"credentials.user_key"}}),n("v-text-field",{attrs:{type:"password",counter:10,label:"パスワード",rules:e.rules.password,maxlength:"10",required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signIn.apply(null,arguments)}},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}})],1),n("v-btn",{staticClass:"pink white--text",attrs:{disabled:!e.valid},on:{click:e.signIn}},[e._v(" サインイン ")])],1)],1)],1),n("router-link",{attrs:{to:"/signup"}},[e._v(" アカウントを登録していない方はこちらから ")])],1)],1)],1)],1)},he=[],fe=L.setHeader(),ve={components:{Header:q},data:function(){return{credentials:{},valid:!0,loading:!1,rules:{user_key:[function(e){return!!e||"ユーザーIDは必須です"}],password:[function(e){return!!e||"パスワードは必須です"},function(e){return e&&e.length>5||"パスワードは6文字以上でなければなりません"}]},axios:{},user_id:null}},mounted:function(){this.checkToken()},methods:{checkToken:function(){this.$session.has("token")&&jt.push("/")},signIn:function(){var e=this;this.$refs.form.validate()&&(this.loading=!0,fe.post("/auth/",this.credentials).then((function(t){e.$session.start(),e.$session.set("token",t.data.token),e.$session.set("user_id",t.data.user_id),e.$session.set("user_name",t.data.user_name),e.$session.set("user_eth_address",t.data.user_eth_address),e.$session.set("user_group",t.data.user_group),e.loading=!1,jt.push("/")})).catch((function(t){e.loading=!1,console.log(t),N().fire({icon:"warning",title:"Error",text:"ユーザーIDもしくはパスワード、または両方が間違っています",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),e.credentials.password=""})))}}},pe=ve,_e=(0,c.Z)(pe,de,he,!1,null,null,null),we=_e.exports;l()(_e,{VApp:d.Z,VBtn:b.Z,VCard:T.Z,VCardText:j.ZB,VCardTitle:j.EB,VContainer:H.Z,VFlex:oe.Z,VForm:re.Z,VLayout:ie.Z,VProgressCircular:ae.Z,VTextField:ce.Z});var ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("Header"),n("v-main",[n("NavHelpBar"),n("v-container",{attrs:{"grid-list-md":""}},[n("v-card",[n("v-card-title",[e._v("MyPage")]),n("v-card-text",[e._v(" ユーザー名: "+e._s(e.user_info.user_name)+" ")]),n("v-card-text",[e._v(" 所持: "+e._s(e.user_has_eth)+" point *所持ポイントの反映には時差がある時があります ")]),n("v-card-text",[e._v(" メールアドレス: "+e._s(e.user_info.user_email)+" ")])],1)],1),n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":"","fill-height":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",lg4:"",md5:""}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("仮想通貨を送る")])]),n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{counter:10,rules:e.rules.address,label:"送り先のユーザーID",required:""},model:{value:e.forward_address,callback:function(t){e.forward_address=t},expression:"forward_address"}}),n("v-text-field",{attrs:{rules:e.rules.eth,label:"ETH",required:""},model:{value:e.send_eth,callback:function(t){e.send_eth=e._n(t)},expression:"send_eth"}}),n("v-text-field",{attrs:{rules:e.rules.password,label:"現在サインインしているパスワード",required:""},model:{value:e.my_eth_password,callback:function(t){e.my_eth_password=t},expression:"my_eth_password"}}),n("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:function(t){return e.moveEth()}}},[e._v(" 送金 ")])],1)],1)],1)],1)],1)],1)],1)},me=[],xe=(n(7601),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-breadcrumbs",{attrs:{items:e.items},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])})],1)}),ke=[],be={data:function(){return{items:[{text:"ホーム",disabled:!1,href:"/"}]}}},Ze=be,ye=n(9286),Ce=n(4324),qe=(0,c.Z)(Ze,xe,ke,!1,null,null,null),Be=qe.exports;l()(qe,{VBreadcrumbs:ye.Z,VIcon:Ce.Z});var Ae=L.setHeader(),Ve=n(7918),Ee=new Ve("https://eagle4.fu.is.saga-u.ac.jp/geth-docker/"),$e="",Te="",je={components:{Header:q,NavHelpBar:Be},data:function(){return{valid:!0,user_id:null,user_info:{},user_has_eth:0,forward_address:"",send_eth:10,my_eth_password:"",rules:{address:[function(e){return!!e||"送り先は必須です"}],eth:[function(e){return!!e||"必須です"},function(e){return/^[0-9]+$/.test(e)||"数値のみ"}],password:[function(e){return!!e||"パスワードは必須です"}]}}},mounted:function(){this.checkToken(),this.getUserInfo(),this.checkGeth(),this.getHasEthAndBackup()},methods:{checkToken:function(){this.$session.has("token")||jt.push("/signin"),$e=this.$session.get("user_id"),Te=this.$session.get("user_eth_address")},checkGeth:function(){var e=this;Ee.eth.personal.getAccounts().then((function(){console.log("geth 起動中")}),(function(t){console.log("geth 停止中",t),e.valid=!1}))},getUserInfo:function(){var e=this,t=this.$session.get("user_id");Ae.get("/api/users/"+t).then((function(t){e.user_info=t.data})).catch((function(e){console.log(e)}))},getHasEthAndBackup:function(){var e=this;return(0,U.Z)((0,R.Z)().mark((function t(){return(0,R.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ee.eth.getBalance(Te).then((function(t){e.user_has_eth=t,e.saveEthDataToDB(t),console.log("バックアップ成功")})).catch((function(){console.log("eth情報の取得に失敗")}));case 2:case"end":return t.stop()}}),t)})))()},saveEthDataToDB:function(e){return(0,U.Z)((0,R.Z)().mark((function t(){var n;return(0,R.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n={user_point:e},Ae.put("/api/users/"+$e,n).then((function(){console.log("所持ethをdbへバックアップ")})).catch((function(){console.log("バックアップに失敗しました")}));case 2:case"end":return t.stop()}}),t)})))()},getReceiveAddressAndSendEth:function(e){var t=this;return(0,U.Z)((0,R.Z)().mark((function n(){return(0,R.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:Ae.get("/api/user-eth-address/"+e).then((function(e){var n=e.data;t.sendEth(Te,n,t.send_eth,t.my_eth_password)})).catch((function(e){console.log(e),N().fire({icon:"warning",title:"Error",text:"送り先が見つかりませんでした!",showConfirmButton:!1,showCloseButton:!1,timer:3e3})}));case 1:case"end":return n.stop()}}),n)})))()},limitSetting:function(){return this.user_has_eth>=this.send_eth},sendEth:function(e,t,n,s){return(0,U.Z)((0,R.Z)().mark((function o(){var r,i,a;return(0,R.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,Ee.utils.toChecksumAddress(e);case 2:return r=o.sent,o.next=5,Ee.utils.toChecksumAddress(t);case 5:return i=o.sent,a={from:r,to:i,value:n,gasPrice:0},o.next=9,Ee.eth.personal.unlockAccount(r,s,15e3).then((function(){Ee.eth.sendTransaction(a),N().fire("仮想通貨が送金できました","success")})).catch((function(e){console.log(e),N().fire({icon:"warning",title:"Error",text:"仮想通貨は送れませんでした",showConfirmButton:!1,showCloseButton:!1,timer:3e3})}));case 9:case"end":return o.stop()}}),o)})))()},moveEth:function(){var e=this;return(0,U.Z)((0,R.Z)().mark((function t(){var n;return(0,R.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.limitSetting(),!(n&&e.forward_address&&e.my_eth_password)){t.next=7;break}return t.next=4,e.getReceiveAddressAndSendEth(e.forward_address);case 4:e.getHasEthAndBackup(),t.next=9;break;case 7:return N().fire({icon:"warning",title:"Error",text:"送れる上限を超えています",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),t.abrupt("return");case 9:case"end":return t.stop()}}),t)})))()},log:function(){return(0,U.Z)((0,R.Z)().mark((function e(){return(0,R.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}},He=je,Qe=(0,c.Z)(He,ge,me,!1,null,null,null),De=Qe.exports;l()(Qe,{VApp:d.Z,VBtn:b.Z,VCard:T.Z,VCardText:j.ZB,VCardTitle:j.EB,VContainer:H.Z,VFlex:oe.Z,VForm:re.Z,VLayout:ie.Z,VMain:Q.Z,VTextField:ce.Z});var Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("Header"),n("v-main",[n("NavHelpBar"),n("v-container",[n("v-card",{staticClass:"mt-12"},[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("質問フォーム")])]),e.loading?n("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-textarea",{attrs:{label:"質問タイトル*",rules:e.rules.question_title,required:"",clearable:"","clear-icon":"mdi-close-circle",rows:"1",outlined:""},model:{value:e.question_obj.question_title,callback:function(t){e.$set(e.question_obj,"question_title",t)},expression:"question_obj.question_title"}}),n("v-textarea",{attrs:{label:"質問内容*",rules:e.rules.question_content,required:"",clearable:"","clear-icon":"mdi-close-circle","auto-grow":"",outlined:""},model:{value:e.question_obj.question_content,callback:function(t){e.$set(e.question_obj,"question_content",t)},expression:"question_obj.question_content"}}),n("v-textarea",{attrs:{label:"ソースコード[任意]",clearable:"","clear-icon":"mdi-close-circle","auto-grow":"",outlined:""},model:{value:e.question_obj.question_source_code,callback:function(t){e.$set(e.question_obj,"question_source_code",t)},expression:"question_obj.question_source_code"}}),n("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"success",disabled:!e.valid}},"v-btn",o,!1),s),[e._v(" 質問する ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[e._v(" 質問について ")]),n("v-card-text",[e._v(" 質問は削除できません．あとから編集することは可能です． 閲覧者が理解できる質問になっていますか？ ")]),n("v-form",[n("v-text-field",{attrs:{type:"password",counter:10,label:"パスワード",rules:e.rules.password,maxlength:"10",required:""},model:{value:e.eth_password,callback:function(t){e.eth_password=t},expression:"eth_password"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:e.postQuestion}},[e._v(" 質問を送信する ")])],1)],1)],1)],1)],1)],1)],1)],1)},Pe=[],Oe=n(759),Fe=n.n(Oe),Ie=n(6347),Re=n(3087),Ue=n(2833),Me=function(){function e(t,n){(0,Re.Z)(this,e),this.user_id=t,this.axios=n}return(0,Ue.Z)(e,[{key:"getUserData",value:function(){this.axios.get("/api/users/"+this.user_id).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"sendPoint",value:function(e){this.axios.put("/api/point-up/"+e+"/").then((function(){console.log("ポイントを追加しました")})).catch((function(e){console.log(e)}))}},{key:"sendEther",value:function(e){this.axios.put("/api/users/"+e+"/").then((function(){console.log("ether get")})).catch((function(e){console.log(e)}))}}]),e}(),Ne=function(){function e(t){(0,Re.Z)(this,e),this.axios=t}return(0,Ue.Z)(e,[{key:"getAll",value:function(){console.log("質問取得")}},{key:"getOne",value:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(t){return(0,R.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("/api/get-question/"+t).then((function(e){return console.log("class res.data",e.data),e.data})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"post",value:function(e,t){if(!t)return!1;this.axios.post("/api/create-question/",e).then((function(){return console.log("質問投稿しました"),!0})).catch((function(){return N().fire({icon:"warning",title:"Error",text:"入力が正しくありません",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),!1}))}},{key:"successMessage",value:function(e){e?N().fire("Goo job!","success"):N().fire({icon:"warning",title:"Error",text:"質問できませんでした!",showConfirmButton:!1,showCloseButton:!1,timer:3e3})}},{key:"pointUp",value:function(e){this.axios.put("/api/point-up/"+e+"/").then((function(){console.log("point up")})).catch((function(e){console.log(e)}))}},{key:"pointDown",value:function(){var e=(0,U.Z)((0,R.Z)().mark((function e(t){return(0,R.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.put("/api/point-down/"+t+"/").then((function(){console.log("point down")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addNumberOfAnswers",value:function(e,t){t&&this.axios.put("/api/add-num-answer/"+e+"/").then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},{key:"rewardPoint",value:function(){console.log("reward")}},{key:"likeQuestion",value:function(){console.log("like question")}},{key:"resolvedQuestion",value:function(e,t,n,s){if(e==t)if(0!=n.length)if(s){var o={user:t,question_status:!0};this.axios.put("/api/update-question/"+this.question_id+"/",o).then((function(){N().fire("質問が解決されました!","success")})).catch((function(e){console.log(e)}))}else N().fire({icon:"warning",title:"Error",text:"ベストアンサーが存在しません．ベストアンサーを選択してください!",showConfirmButton:!1,showCloseButton:!1,timer:3e3});else N().fire({icon:"warning",title:"Error",text:"回答が存在しません.自己解決した場合、自身で回答を作成してください",showConfirmButton:!1,showCloseButton:!1,timer:3e3});else N().fire({icon:"warning",title:"Error",text:"質問者のみ有効です！",showConfirmButton:!1,showCloseButton:!1,timer:3e3})}},{key:"releaseResolvedQuestion",value:function(){}}]),e}(),ze=function(){function e(t){(0,Re.Z)(this,e),this.axios=t}return(0,Ue.Z)(e,[{key:"getAnswer",value:function(e){this.axios.get("/api/get-answer/"+e).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"hasBestAnswer",value:function(e){var t,n=!1,s=(0,Ie.Z)(e);try{for(s.s();!(t=s.n()).done;){var o=t.value;1==o.answer_best&&(console.log("ベストアンサーあり"),n=!0)}}catch(r){s.e(r)}finally{s.f()}return n}},{key:"postAnswer",value:function(e,t){t&&this.axios.post("/api/create-answer/",e).then((function(e){console.log(e)})).catch((function(){N().fire({icon:"warning",title:"Error",text:"入力が正しくありません",showConfirmButton:!1,showCloseButton:!1,timer:3e3})}))}},{key:"pointDown",value:function(e,t){if(!t)return!1;this.axios.put("/api/point-down/"+e+"/").then((function(){return console.log("point down"),!0})).catch((function(e){return console.log(e),!1}))}}]),e}(),Ge=L.setHeader(),Le=0,We="",Xe=n(7918),Je=new Xe("https://eagle4.fu.is.saga-u.ac.jp/geth-docker/"),Ke="0x7A5601125AC4CC81647E61c0347Ef58E2Cf8cf02",Ye=!0,et={components:{VueLoading:Fe(),Header:q,NavHelpBar:Be},data:function(){return{loading:!1,dialog:!1,valid:!0,eth_password:"",question_obj:{user:this.$session.get("user_id"),question_user_name:this.$session.get("user_name")},rules:{question_title:[function(e){return!!e||"質問タイトルは必須です"}],question_content:[function(e){return!!e||"質問内容は必須です"}],password:[function(e){return!!e||"パスワードを入力してください"}]}}},mounted:function(){this.checkToken(),this.checkGeth()},methods:{checkToken:function(){this.$session.has("token")||jt.push("/signin"),Le=this.$session.get("user_id"),We=this.$session.get("user_eth_address"),this.$session.get("user_group"),new Me(Le,Ge)},checkGeth:function(){var e=this;Je.eth.personal.getAccounts().then((function(e){console.log("geth 起動中")}),(function(t){console.log("geth 停止中",t),e.valid=!1}))},postQuestion:function(){var e=this;return(0,U.Z)((0,R.Z)().mark((function t(){var n;return(0,R.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,n=new Ne(Ge),t.next=4,e.getHasEth(We,1);case 4:return t.next=6,e.ethDown(We,1,e.eth_password,Ye);case 6:return n.post(e.question_obj,Ye),t.next=9,n.pointDown(Le);case 9:e.questionResult(Ye);case 10:case"end":return t.stop()}}),t)})))()},getHasEth:function(e,t){return(0,U.Z)((0,R.Z)().mark((function n(){return(0,R.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Je.eth.getBalance(e).then((function(e){console.log("所持eth",e),Ye=e-t>0}));case 2:case"end":return n.stop()}}),n)})))()},ethDown:function(e,t,n,s){return(0,U.Z)((0,R.Z)().mark((function o(){var r,i,a;return(0,R.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!s){o.next=10;break}return o.next=3,Je.utils.toChecksumAddress(e);case 3:return r=o.sent,o.next=6,Je.utils.toChecksumAddress(Ke);case 6:return i=o.sent,a={from:r,to:i,value:t,gasPrice:0},o.next=10,Je.eth.personal.unlockAccount(r,n,15e3).then((function(){Je.eth.sendTransaction(a),console.log("質問によるethの消費")})).catch((function(){N().fire({icon:"warning",title:"Error",text:"パスワードが正しくない可能性があります",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),Ye=!1}));case 10:case"end":return o.stop()}}),o)})))()},questionResult:function(e){e?(N().fire("質問を投稿しました","success"),jt.push("/signin")):(N().fire({icon:"warning",title:"Error",text:"質問できませんでした",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),this.loading=!1)},log:function(){return(0,U.Z)((0,R.Z)().mark((function e(){return(0,R.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}},tt=et,nt=n(9202),st=n(9223),ot=n(6072),rt=(0,c.Z)(tt,Se,Pe,!1,null,null,null),it=rt.exports;l()(rt,{VApp:d.Z,VBtn:b.Z,VCard:T.Z,VCardActions:j.h7,VCardText:j.ZB,VCardTitle:j.EB,VContainer:H.Z,VDialog:nt.Z,VDivider:st.Z,VForm:re.Z,VLayout:ie.Z,VMain:Q.Z,VProgressCircular:ae.Z,VSpacer:Z.Z,VTextField:ce.Z,VTextarea:ot.Z});var at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("Header"),n("v-main",[n("NavHelpBar"),n("v-container",{attrs:{fluid:""}},[e.one_quesiton.question_status?n("div",[n("v-card",{staticClass:"mx-auto",attrs:{"max-height":"344"}},[n("v-col",{staticClass:"mb-10"},[n("v-card-title",{staticClass:"resolved_question_text"},[e._v("質問 "+e._s(e.one_quesiton.question_title)+" 解決済み! "),n("v-card-subtitle",[e._v("質問者:"+e._s(e.one_quesiton.question_user_name))])],1),n("v-card",[n("v-card-subtitle",[e._v("内容")]),n("v-card-text",[e._v(e._s(e.one_quesiton.question_content))])],1),n("v-card",[n("v-card-subtitle",[e._v("ソースコード")]),n("v-card-text",[e._v(e._s(e.one_quesiton.question_source_code))])],1),n("v-card-actions",[n("v-btn",{attrs:{color:"orange",text:""},on:{click:e.likeQuestion}},[n("v-icon",[e._v("mdi-thumb-up")]),e._v(" "+e._s(e.one_quesiton.question_value)+" ")],1),n("v-btn",{attrs:{color:"green",text:""},on:{click:e.releaseResolvedQuestion}},[e._v(" 解決取り消し ")])],1)],1)],1)],1):n("div",[n("v-card",{staticClass:"mx-auto",attrs:{"max-height":"344"}},[n("v-col",{staticClass:"mb-10"},[n("v-card-title",[e._v("質問 "+e._s(e.one_quesiton.question_title)+" "),n("v-card-subtitle",[e._v("質問者:"+e._s(e.one_quesiton.question_user_name))])],1),n("v-card",[n("v-card-subtitle",[e._v("内容")]),n("v-card-text",[e._v(e._s(e.one_quesiton.question_content))])],1),n("v-card",[n("v-card-subtitle",[e._v("ソースコード")]),n("v-card-text",[e._v(e._s(e.one_quesiton.question_source_code))])],1),n("v-card-actions",[n("v-btn",{attrs:{color:"orange",text:""},on:{click:e.likeQuestion}},[n("v-icon",[e._v("mdi-thumb-up")]),e._v(" "+e._s(e.one_quesiton.question_value)+" ")],1),n("v-btn",{attrs:{color:"green",text:""},on:{click:e.resolvedQuestion}},[e._v(" 解決 ")])],1)],1)],1)],1),n("v-divider"),e._l(e.any_answer,(function(t,s){return n("v-card",{key:s},[t.answer_best?n("div",[n("v-card-title",{staticClass:"best_answer_text"},[e._v("回答 "+e._s(s+1)+" ベストアンサー "),n("v-icon",[e._v("mdi-chess-king")])],1),n("v-card-subtitle",[e._v("回答者:"+e._s(t.answer_user_name))]),n("v-card-text",[e._v(e._s(t.answer_content))]),n("v-card-text",[e._v(e._s(t.answer_source_code))]),n("v-card-actions",[n("v-btn",{attrs:{color:"orange",text:""},on:{click:function(t){return e.likeAnswer(s)}}},[n("v-icon",[e._v("mdi-thumb-up")]),e._v(" "+e._s(t.answer_value)+" ")],1),n("v-btn",{attrs:{color:"red",text:""},on:{click:function(n){return e.releaseBestAnswer(t)}}},[e._v(" 解除 ")])],1)],1):n("div",[n("v-card-title",[e._v("回答 "+e._s(s+1))]),n("v-card-subtitle",[e._v("回答者:"+e._s(t.answer_user_name))]),n("v-card-text",[e._v(e._s(t.answer_content))]),n("v-card-text",[e._v(e._s(t.answer_source_code))]),n("v-card-actions",[n("v-btn",{attrs:{color:"orange",text:""},on:{click:function(t){return e.likeAnswer(s)}}},[n("v-icon",[e._v("mdi-thumb-up")]),e._v(" "+e._s(t.answer_value)+" ")],1),n("v-btn",{attrs:{color:"red",text:""},on:{click:function(n){return e.bestAnswer(t)}}},[e._v(" ベストアンサー ")])],1)],1)])})),n("v-card",{staticClass:"mt-10"},[n("v-card-title",[e._v(" 回答フォーム ")]),n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-textarea",{attrs:{label:"解決策・提案*",rules:e.rules.answer_content,clearable:"","clear-icon":"mdi-close-circle","auto-grow":"",outlined:""},model:{value:e.answer_obj.answer_content,callback:function(t){e.$set(e.answer_obj,"answer_content",t)},expression:"answer_obj.answer_content"}}),n("v-textarea",{attrs:{label:"ソースコード",clearable:"","clear-icon":"mdi-close-circle","auto-grow":"",outlined:""},model:{value:e.answer_obj.answer_source_code,callback:function(t){e.$set(e.answer_obj,"answer_source_code",t)},expression:"answer_obj.answer_source_code"}})],1),n("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"success",disabled:!e.valid}},"v-btn",o,!1),s),[e._v(" 回答する ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[e._v(" 回答について ")]),n("v-card-text",[e._v(" 回答は削除できません．あとから編集することは可能です． 質問者が理解できる回答になっていますか？ ")]),n("v-form",[n("v-text-field",{attrs:{type:"password",counter:10,label:"パスワード",rules:e.rules.password,maxlength:"10",required:""},model:{value:e.eth_password,callback:function(t){e.eth_password=t},expression:"eth_password"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:e.postAnswer}},[e._v(" 回答を送信する ")])],1)],1)],1)],1)],2)],1)],1)},ct=[],ut=(n(9653),L.setHeader()),lt=0,dt=0,ht="",ft=!1,vt=new Ne(ut),pt=new ze(ut),_t=n(7918),wt=new _t("https://eagle4.fu.is.saga-u.ac.jp/geth-docker/"),gt="0x7A5601125AC4CC81647E61c0347Ef58E2Cf8cf02",mt="admin",xt=!0,kt={components:{Header:q,NavHelpBar:Be},data:function(){return{one_quesiton:{},any_answer:[],answer_obj:{user:this.$session.get("user_id"),answer_user_name:this.$session.get("user_name")},eth_password:"",dialog:!1,valid:!0,loading:!1,rules:{answer_content:[function(e){return!!e||"回答内容は必須です"}],password:[function(e){return!!e||"パスワードを入力してください"}]}}},mounted:function(){var e=this;return(0,U.Z)((0,R.Z)().mark((function t(){return(0,R.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.checkToken();case 2:return t.next=4,e.checkGeth();case 4:return t.next=6,e.getOneQuestion();case 6:return t.next=8,e.getAnyAnswer();case 8:return t.next=10,e.addViewsQuestion();case 10:return t.next=12,e.checkHasBestAnswer();case 12:case"end":return t.stop()}}),t)})))()},methods:{checkToken:function(){this.$session.has("token")||jt.push("/signin"),lt=this.$session.get("user_id"),this.$session.get("user_name"),ht=this.$session.get("user_eth_address"),this.$session.get("user_group"),new Me(lt,ut)},checkGeth:function(){var e=this;wt.eth.personal.getAccounts().then((function(e){console.log("geth 起動中")}),(function(t){console.log("geth 停止中",t),e.valid=!1}))},getOneQuestion:function(){var e=this;dt=Number(this.$route.params.id),ut.get("/api/get-question/"+dt).then((function(t){e.one_quesiton=t.data})).catch((function(e){console.log(e)}))},getAnyAnswer:function(){var e=this;ut.get("/api/get-answer/"+dt).then((function(t){e.any_answer=t.data})).catch((function(e){console.log(e)})),console.log("回答取得")},checkHasBestAnswer:function(){var e,t=(0,Ie.Z)(this.any_answer);try{for(t.s();!(e=t.n()).done;){var n=e.value;1==n.answer_best&&(console.log("ベストアンサーあり"),ft=!0)}}catch(s){t.e(s)}finally{t.f()}return ft},addViewsQuestion:function(){ut.put("/api/add-views-question/"+dt+"/").then((function(){console.log("閲覧数追加")})).catch((function(e){console.log(e)}))},postAnswer:function(){var e=this;return(0,U.Z)((0,R.Z)().mark((function t(){return(0,R.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.answer_obj["question_id"]=dt,e.getHasEth(ht,1),t.next=5,e.ethDown(ht,1,e.eth_password,xt);case 5:return console.log("ethの消費",xt),t.next=8,pt.postAnswer(e.answer_obj,xt);case 8:return console.log("回答投稿",xt),e.pointDown(lt,xt),t.next=12,vt.addNumberOfAnswers(dt,xt);case 12:console.log("回答数増加",xt),e.sendEmailQuestioner(e.answer_obj.answer_content,xt),console.log("メール通知",xt),e.getAnyAnswer(),e.dialog=!1,e.answer_obj={},e.loading=!1;case 19:case"end":return t.stop()}}),t)})))()},getHasEth:function(e,t){return(0,U.Z)((0,R.Z)().mark((function n(){return(0,R.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,wt.eth.getBalance(e).then((function(e){console.log("所持eth",e),xt=e-t>0}));case 2:case"end":return n.stop()}}),n)})))()},ethDown:function(e,t,n,s){return(0,U.Z)((0,R.Z)().mark((function o(){var r,i,a;return(0,R.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!s){o.next=10;break}return o.next=3,wt.utils.toChecksumAddress(e);case 3:return r=o.sent,o.next=6,wt.utils.toChecksumAddress(gt);case 6:return i=o.sent,a={from:r,to:i,value:t,gasPrice:0},o.next=10,wt.eth.personal.unlockAccount(r,n,15e3).then((function(){wt.eth.sendTransaction(a),console.log("回答によるethの消費")})).catch((function(){N().fire({icon:"warning",title:"Error",text:"パスワードが正しくない可能性があります",showConfirmButton:!1,showCloseButton:!1,timer:3e3}),xt=!1}));case 10:case"end":return o.stop()}}),o)})))()},pointDown:function(e,t){t&&ut.put("/api/point-down/"+e+"/").then((function(){console.log("point down")})).catch((function(e){console.log(e)}))},sendEmailQuestioner:function(e,t){if(t){var n={subject:"質問に回答がありました",message:"[返信不可]"+e,receipt_user_id:this.one_quesiton.user};ut.post("/api/send-email/",n).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},likeQuestion:function(){var e=this,t={user:lt,question_id:this.one_quesiton.id};ut.put("/api/question-like/",t).then((function(){console.log("評価が変更されました"),e.getOneQuestion()})).catch((function(e){console.log(e)}))},likeAnswer:function(e){var t=this,n={user:lt,answer_id:this.any_answer[e].id};ut.post("/api/answer-like/",n).then((function(e){console.log(e),console.log("評価が変更されました"),t.getAnyAnswer()})).catch((function(e){console.log(e)}))},bestAnswer:function(e){var t=this;if(this.checkHasBestAnswer())N().fire({icon:"warning",title:"Error",text:"すでにベストアンサーは存在しています！",showConfirmButton:!1,showCloseButton:!1,timer:3e3});else if(lt==this.one_quesiton.user){var n={user:this.one_quesiton.user,question_id:dt,answer_best:!0};ut.put("/api/update-answer/"+e.id+"/",n).then((function(){ft=!0,N().fire("ベストアンサーを決定しました!","success"),t.getAnyAnswer()})).catch((function(e){console.log(e)}))}else N().fire({icon:"warning",title:"Error",text:"質問者のみベストアンサーを決めることができます",showConfirmButton:!1,showCloseButton:!1,timer:3e3})},releaseBestAnswer:function(e){var t=this;if(lt!=this.one_quesiton.user||this.one_quesiton.question_status)N().fire({icon:"warning",title:"Error",text:"質問者のみベストアンサーを解除できます.また解決済みの場合ベストアンサーは解除できません",showConfirmButton:!1,showCloseButton:!1,timer:3e3});else{var n={user:this.one_quesiton.user,question_id:dt,answer_best:!1};ut.put("/api/update-answer/"+e.id+"/",n).then((function(){ft=!1,N().fire("ベストアンサーを解除しました!","success"),t.getAnyAnswer()})).catch((function(e){console.log(e)}))}},resolvedQuestion:function(){var e=this;if(lt==this.one_quesiton.user)if(0!=this.any_answer.length)if(this.checkHasBestAnswer()){var t={user:this.one_quesiton.user,question_status:!0};ut.put("/api/update-question/"+dt+"/",t).then((function(){N().fire("質問が解決されました!","success"),e.getOneQuestion()})).catch((function(e){console.log(e)}))}else N().fire({icon:"warning",title:"Error",text:"ベストアンサーが存在しません．ベストアンサーを選択してください!",showConfirmButton:!1,showCloseButton:!1,timer:3e3});else N().fire({icon:"warning",title:"Error",text:"回答が存在しません.自己解決した場合、自身で回答を作成してください",showConfirmButton:!1,showCloseButton:!1,timer:3e3});else N().fire({icon:"warning",title:"Error",text:"質問者のみ有効です！",showConfirmButton:!1,showCloseButton:!1,timer:3e3})},releaseResolvedQuestion:function(){var e=this;if(lt==this.one_quesiton.user){var t={user:this.one_quesiton.user,question_status:!1};ut.put("/api/update-question/"+dt+"/",t).then((function(){N().fire("解決を取り消しました!","success"),e.getOneQuestion()})).catch((function(e){console.log(e)}))}else N().fire({icon:"warning",title:"Error",text:"質問者のみ有効です！",showConfirmButton:!1,showCloseButton:!1,timer:3e3})},rewardEth:function(e,t){return(0,U.Z)((0,R.Z)().mark((function n(){var s,o,r;return(0,R.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,wt.utils.toChecksumAddress(gt);case 2:return s=n.sent,n.next=5,wt.utils.toChecksumAddress(e);case 5:return o=n.sent,r={from:s,to:o,value:t},n.next=9,wt.eth.personal.unlockAccount(s,mt,15e3).then((function(){wt.eth.sendTransaction(r),console.log("受け取り完了")}));case 9:case"end":return n.stop()}}),n)})))()},putSendPoint:function(){ut.put("/api/users/"+lt+"/",update_obj).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},log:function(){},initialEth:function(e,t){return(0,U.Z)((0,R.Z)().mark((function n(){var s,o,r;return(0,R.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,wt.utils.toChecksumAddress(gt);case 2:return s=n.sent,n.next=5,wt.utils.toChecksumAddress(e);case 5:return o=n.sent,r={from:s,to:o,value:t},n.next=9,wt.eth.personal.unlockAccount(s,mt,15e3).then((function(){wt.eth.sendTransaction(r),console.log("受け取り完了")}));case 9:case"end":return n.stop()}}),n)})))()}}},bt=kt,Zt=n(266),yt=(0,c.Z)(bt,at,ct,!1,null,null,null),Ct=yt.exports;l()(yt,{VApp:d.Z,VBtn:b.Z,VCard:T.Z,VCardActions:j.h7,VCardSubtitle:j.Qq,VCardText:j.ZB,VCardTitle:j.EB,VCol:Zt.Z,VContainer:H.Z,VDialog:nt.Z,VDivider:st.Z,VForm:re.Z,VIcon:Ce.Z,VMain:Q.Z,VSpacer:Z.Z,VTextField:ce.Z,VTextarea:ot.Z});var qt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Bt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("ページが存在しません")])])}],At={},Vt=(0,c.Z)(At,qt,Bt,!1,null,null,null),Et=Vt.exports;s["default"].use(v.Z);var $t=[{path:"/",name:"home",component:P},{path:"/signup",component:le},{path:"/signin",component:we},{path:"/create-question",component:it},{path:"/question/:id",component:Ct,props:!0,name:"question-detail"},{path:"/mypage",component:De,props:!0,name:"mypage"},{path:"*",component:Et,name:"notFound"},{path:"/:pathMatch(.*)*",redirect:{name:"home"},meta:{isPublic:!0}}],Tt=new v.Z({mode:"history",routes:$t}),jt=Tt,Ht=n(1714);s["default"].use(Ht.Z);var Qt=new Ht.Z({}),Dt=n(3757),St=n.n(Dt);s["default"].config.productionTip=!1,s["default"].use(St()),new s["default"]({router:jt,vuetify:Qt,render:function(e){return e(f)}}).$mount("#app")}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,s,o,r){if(!s){var i=1/0;for(l=0;l<e.length;l++){s=e[l][0],o=e[l][1],r=e[l][2];for(var a=!0,c=0;c<s.length;c++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](s[c])}))?s.splice(c--,1):(a=!1,r<i&&(i=r));if(a){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[s,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,r,i=s[0],a=s[1],c=s[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(c)var l=c(n)}for(t&&t(s);u<i.length;u++)r=i[u],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(l)},s=self["webpackChunkfront"]=self["webpackChunkfront"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(6378)}));s=n.O(s)})();
//# sourceMappingURL=app-legacy.c6ff1254.js.map